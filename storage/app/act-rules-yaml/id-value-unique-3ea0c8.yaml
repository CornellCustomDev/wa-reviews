machine_name: id-value-unique-3ea0c8
id: 3ea0c8
name: 'Id attribute value is unique'
metadata:
    id: 3ea0c8
    name: 'Id attribute value is unique'
    rule_type: atomic
    description: "This rule checks that all `id` attribute values on a single page are unique.\n"
    accessibility_requirements: { 'wcag20:4.1.1': { forConformance: true, failed: 'not satisfied', passed: 'further testing needed', inapplicable: 'further testing needed' }, 'wcag-technique:H93': { forConformance: false, failed: 'not satisfied', passed: satisfied, inapplicable: satisfied } }
    input_aspects: ['DOM Tree']
    acknowledgments: { authors: ['Anne Thyme NÃ¸rregaard', 'Bryn Anderson'], funding: [WAI-Tools] }
    htmlHintIgnore: [id-unique]
    deprecated: "This rule has been deprecated because success criterion 4.1.1 has \nbeen removed in WCAG 2.2 and for WCAG 2.1 and 2.0 should be \nconsidered to always pass."
applicability: "This rule applies to any `id` attribute whose value is not an empty string (`\"\"`), specified on a HTML or SVG element.\n\n**Note:** Elements that are neither included in the accessibility tree nor visible are still considered for this rule."
assumptions: 'There are no assumptions.'
accessibility_support: 'There are no accessibility support issues known.'
background: "### Bibliography\n\n- [Understanding Success Criterion 4.1.1: Parsing](https://www.w3.org/WAI/WCAG22/Understanding/parsing)\n- [H93: Ensuring that id attributes are unique on a Web page](https://www.w3.org/WAI/WCAG22/Techniques/html/H93)"
test_cases:
    passed: [{ name: 'Passed Example 1', description: 'There is only one `id` attribute within the document context.', html: '<div id="my-div">This is my first element</div>' }, { name: 'Passed Example 2', description: 'All `id` attributes are unique within the document context.', html: "<div id=\"my-div1\">This is my first element</div>\n<div id=\"my-div2\">This is my second element</div>\n<svg id=\"my-div3\">This is my third element</svg>" }, { name: 'Passed Example 3', description: 'Two of the `id` attributes are the same (`my-elt`), but they are in different trees (the first one in the [document tree](https://dom.spec.whatwg.org/#document-trees) and the second in the [shadow tree](https://dom.spec.whatwg.org/#shadow-trees)).', html: "<div id=\"my-elt\"></div>\n<div id=\"host\"></div>\n<script>\n\tvar host = document.getElementById('host')\n\tvar shadow = host.attachShadow({ mode: 'open' })\n\tshadow.innerHTML = '<b id=\"my-elt\"></b>'\n</script>" }, { name: 'Passed Example 4', description: 'Both `id` attributes are the same (`my-elt`), but they are in different [document trees](https://dom.spec.whatwg.org/#document-trees) because the `iframe` is creating a new one.', html: "<div id=\"my-elt\"></div>\n<iframe title=\"Empty frame\" srcdoc=\"<span id='my-elt'></span>\"></iframe>" }]
    failed: [{ name: 'Failed Example 1', description: 'The `id` attribute `label` is not unique among all `id` attributes in the document, resulting in a wrong programmatic label on the input field.', html: "<div id=\"label\">Name</div>\n<div id=\"label\">City</div>\n\n<input aria-labelledby=\"label\" type=\"text\" name=\"city\" />" }, { name: 'Failed Example 2', description: 'The `id` attribute `label` is not unique among all `id` attributes in the document, resulting in a wrong programmatic label on the input field.', html: "<div id=\"label\">Name</div>\n<svg id=\"label\">\n\t<text x=\"0\" y=\"15\">City</text>\n</svg>\n\n<input aria-labelledby=\"label\" type=\"text\" name=\"city\" />" }, { name: 'Failed Example 3', description: 'The `id` attribute `label` is not unique among all `id` attributes in the document, resulting in a wrong programmatic label on the input field. This rule still considers elements that are neither included in the accessibility tree nor visible.', html: "<span id=\"label\" style=\"display: none;\">Name</span>\n<span id=\"label\">City</span>\n\n<input aria-labelledby=\"label\" type=\"text\" name=\"city\" />" }]
    inapplicable: [{ name: 'Inapplicable Example 1', description: 'There is no `id` attribute in this document.', html: '<div>This is my first element</div>' }, { name: 'Inapplicable Example 2', description: 'The `xml:id` attribute is not considered by this rule.', html: '<div xml:id="my-div">This is my first element</div>' }, { name: 'Inapplicable Example 3', description: 'These `id` attributes have an empty value.', html: '<span id="">Hello</span> <span id="">world!</span>' }]
expectation: 'The value of the attribute is unique across all other `id` attributes specified on HTML or SVG elements that exist within the same [document tree](https://dom.spec.whatwg.org/#document-trees) or [shadow tree](https://dom.spec.whatwg.org/#shadow-trees) as the element on which the applicable `id` attribute is specified.'
