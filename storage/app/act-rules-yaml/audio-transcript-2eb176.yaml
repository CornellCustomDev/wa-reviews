machine_name: audio-transcript-2eb176
id: 2eb176
name: 'Audio element content has transcript'
metadata:
    id: 2eb176
    name: 'Audio element content has transcript'
    rule_type: atomic
    description: "This rule checks that `audio` elements have a transcript that includes all auditory information.\n"
    accessibility_requirements: null
    input_aspects: ['DOM Tree', 'CSS Styling', 'Audio output', Language]
    acknowledgments: { authors: ['Brian Bors', 'Wilco Fiers'], funding: [WAI-Tools], assets: ['JFK''s "We Choose the Moon" speech excerpt is courtesy of NASA.'] }
applicability: "This rule applies to every [non-streaming](#non-streaming-media-element) `audio` element that is:\n\n- playing; or,\n- has a play button that is visible and included in the accessibility tree."
assumptions: 'There are no assumptions.'
accessibility_support: 'There are no accessibility support issues known.'
background: "### Bibliography\n\n- [Understanding SC 1.2.1:Audio-only and Video-only (Prerecorded)](https://www.w3.org/WAI/WCAG22/Understanding/audio-only-and-video-only-prerecorded)\n- [G158: Providing an alternative for time-based media for audio-only content](https://www.w3.org/WAI/WCAG22/Techniques/general/G158)"
test_cases:
    passed: [{ name: 'Passed Example 1', description: 'This `audio` element has native player controls and an internal transcript.', html: "<html lang=\"en\">\n\t<audio src=\"/test-assets/moon-audio/moon-speech.mp3\" controls></audio>\n\t<p>\n\t\tThe above audio contains the following speech: We choose to go to the moon in this decade and do the other things,\n\t\tnot because they are easy, but because they are hard, because that goal will serve to organize and measure the best\n\t\tof our energies and skills, because that challenge is one that we are willing to accept, one we are unwilling to\n\t\tpostpone, and one which we intend to win, and the others, too.\n\t</p>\n</html>" }, { name: 'Passed Example 2', description: 'This `audio` element has native player controls and an external transcript.', html: "<html lang=\"en\">\n\t<audio src=\"/test-assets/moon-audio/moon-speech.mp3\" controls></audio>\n\t<a href=\"/test-assets/moon-audio/moon-speech-transcript.html\">Transcript</a>\n</html>" }, { name: 'Passed Example 3', description: 'This `audio` element has an `autoplay` attribute and an external transcript.', html: "<html lang=\"en\">\n\t<audio src=\"/test-assets/moon-audio/moon-speech.mp3\" autoplay></audio>\n\t<a href=\"/test-assets/moon-audio/moon-speech-transcript.html\">Transcript</a>\n</html>" }]
    failed: [{ name: 'Failed Example 1', description: 'This `audio` element has native player controls and no transcript.', html: "<html lang=\"en\">\n\t<audio src=\"/test-assets/moon-audio/moon-speech.mp3\" controls></audio>\n</html>" }, { name: 'Failed Example 2', description: 'This `audio` element has native player controls and an incorrect internal transcript.', html: "<html lang=\"en\">\n\t<audio src=\"/test-assets/moon-audio/moon-speech.mp3\" controls></audio>\n\t<p>\n\t\tThe above audio contains the following speech: We choose to go to the cheese in this decade and do the other things,\n\t\tnot because they are easy, but because they are hard, because that goal will serve to organize and measure the best\n\t\tof our energies and skills, because that challenge is one that we are willing to accept, one we are unwilling to\n\t\tpostpone, and one which we intend to win, and the others, too.\n\t</p>\n</html>" }, { name: 'Failed Example 3', description: 'This `audio` element has native player controls and an incorrect external transcript.', html: "<html lang=\"en\">\n\t<audio src=\"/test-assets/moon-audio/moon-speech.mp3\" controls></audio>\n\t<a href=\"/test-assets/moon-audio/moon-speech-incorrect-transcript.html\">Transcript</a>\n</html>" }, { name: 'Failed Example 4', description: 'This `audio` element has an `autoplay` attribute and an incorrect external transcript.', html: "<html lang=\"en\">\n\t<audio src=\"/test-assets/moon-audio/moon-speech.mp3\" autoplay></audio>\n\t<a href=\"/test-assets/moon-audio/moon-speech-incorrect-transcript.html\">Transcript</a>\n</html>" }, { name: 'Failed Example 5', description: 'This `audio` element has native player controls and a non-visible internal transcript.', html: "<html lang=\"en\">\n\t<audio src=\"/test-assets/moon-audio/moon-speech.mp3\" controls></audio>\n\t<p style=\"text-indent: -9999px;\">\n\t\tThe above audio contains the following speech: We choose to go to the moon in this decade and do the other things,\n\t\tnot because they are easy, but because they are hard, because that goal will serve to organize and measure the best\n\t\tof our energies and skills, because that challenge is one that we are willing to accept, one we are unwilling to\n\t\tpostpone, and one which we intend to win, and the others, too.\n\t</p>\n</html>" }, { name: 'Failed Example 6', description: 'This `audio` element has native player controls and an internal transcript that is not exposed to the accessibility tree.', html: "<html lang=\"en\">\n\t<audio src=\"/test-assets/moon-audio/moon-speech.mp3\" controls></audio>\n\t<p aria-hidden=\"true\">\n\t\tThe above audio contains the following speech: We choose to go to the moon in this decade and do the other things,\n\t\tnot because they are easy, but because they are hard, because that goal will serve to organize and measure the best\n\t\tof our energies and skills, because that challenge is one that we are willing to accept, one we are unwilling to\n\t\tpostpone, and one which we intend to win, and the others, too.\n\t</p>\n</html>" }]
    inapplicable: [{ name: 'Inapplicable Example 1', description: 'This `audio` element has no native player controls.', html: "<html lang=\"en\">\n\t<audio src=\"/test-assets/moon-audio/moon-speech.mp3\"></audio>\n</html>" }, { name: 'Inapplicable Example 2', description: 'This `audio` element has hidden native player controls.', html: "<html lang=\"en\">\n\t<audio src=\"/test-assets/moon-audio/moon-speech.mp3\" controls style=\"display: none;\"></audio>\n</html>" }]
expectation: "The auditory information of each test target is available through a text transcript. That text transcript is visible and included in the accessibility tree, either on the page or through a link.\n\n**Note:** A \"text transcript\" in the context of this rule is defined in WCAG 2 as an [alternative for time based media](https://www.w3.org/TR/WCAG22/#dfn-alternative-for-time-based-media)."
