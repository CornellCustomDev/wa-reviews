id: 4c31df
name: 'Audio or video element that plays automatically has a control mechanism'
metadata:
    id: 4c31df
    name: 'Audio or video element that plays automatically has a control mechanism'
    rule_type: atomic
    description: "audio or video that plays automatically must have a control mechanism.\n"
    accessibility_requirements: { 'wcag-technique:G170': { forConformance: false, failed: 'not satisfied', passed: 'further testing needed', inapplicable: 'further testing needed' } }
    input_aspects: ['DOM Tree', 'CSS Styling', 'Audio output', 'Visual output']
    acknowledgments: { authors: ['Anne Thyme Nørregaard', 'Bryn Anderson'], funding: [WAI-Tools], assets: ['Rabbit video is © copyright 2008, Blender Foundation / [www.bigbuckbunny.org](https://www.bigbuckbunny.org)', 'JFK''s "We Choose the Moon" speech excerpt is courtesy of NASA.'] }
    htmlHintIgnore: [title-require]
applicability: "This rule applies to any `audio` or `video` element for which all the following are true:\n\n- (**autoplay**) the element has an `autoplay` attribute value of `true`; and\n- (**not muted**) the element has a `muted` attribute value of `false`; and\n- (**not paused**) the element has a `paused` attribute value of `false`; and\n- (**duration**) the element has a media resource lasting more than 3 seconds and that contains audio."
assumptions: 'There are no assumptions.'
accessibility_support: 'The native `video` and `audio` controls in several browser and assistive technology combinations are not keyboard accessible and the `video` or `audio` element itself may not be announced. Authors are recommended to use custom controls for keyboard navigation and cross browser accessibility support in general.'
background: "### Bibliography\n\n- [Understanding Success Criterion 1.4.2: Audio Control](https://www.w3.org/WAI/WCAG22/Understanding/audio-control.html)\n- [Failure of Success Criterion 1.4.2 for absence of a way to pause or stop an HTML5 media element that autoplays](https://www.w3.org/WAI/WCAG22/Techniques/failures/F93)\n- [G170: Providing a control near the beginning of the Web page that turns off sounds that play automatically](https://www.w3.org/WAI/WCAG22/Techniques/general/G170)"
test_cases:
    passed: [{ name: 'Passed Example 1', description: 'This `audio` element has an instrument to pause, stop, or turn the audio volume off.', html: '<audio src="/test-assets/moon-audio/moon-speech.mp3" autoplay controls></audio>' }, { name: 'Passed Example 2', description: 'This `video` element has an instrument to pause, stop, or turn the audio volume off.', html: "<video autoplay controls>\n\t<source src=\"/test-assets/rabbit-video/video.mp4\" type=\"video/mp4\" />\n\t<source src=\"/test-assets/rabbit-video/video.webm\" type=\"video/webm\" />\n</video>" }, { name: 'Passed Example 3', description: 'This `video` element has a custom instrument to pause or stop or turn the audio volume off.', html: "<head>\n\t<style>\n\t\tbutton {\n\t\t\tcolor: #000;\n\t\t}\n\t\tbutton:hover {\n\t\t\tcursor: pointer;\n\t\t\tcursor: pointer;\n\t\t\tbackground-color: grey;\n\t\t\tcolor: white;\n\t\t}\n\t</style>\n</head>\n<body>\n\t<div id=\"video-container\">\n\t\t<!-- Video -->\n\t\t<video id=\"video\" autoplay>\n\t\t\t<source src=\"/test-assets/rabbit-video/video.mp4\" type=\"video/mp4\" />\n\t\t\t<source src=\"/test-assets/rabbit-video/video.webm\" type=\"video/webm\" />\n\t\t</video>\n\t\t<!-- Video Controls -->\n\t\t<div id=\"video-controls\">\n\t\t\t<button type=\"button\" id=\"play-pause\" class=\"play\">Pause</button>\n\t\t\t<button type=\"button\" id=\"mute\">Mute</button>\n\t\t</div>\n\t</div>\n\t<script src=\"/test-assets/80f0bf/no-autoplay.js\"></script>\n</body>" }]
    failed: [{ name: 'Failed Example 1', description: 'This `audio` element does not have an instrument to pause, stop, or turn the audio volume off.', html: '<audio src="/test-assets/moon-audio/moon-speech.mp3" autoplay></audio>' }, { name: 'Failed Example 2', description: 'This `video` element autoplays and does not have an instrument to pause, stop, or turn the audio volume off.', html: "<video autoplay>\n\t<source src=\"/test-assets/rabbit-video/video.mp4\" type=\"video/mp4\" />\n\t<source src=\"/test-assets/rabbit-video/video.webm\" type=\"video/webm\" />\n</video>" }, { name: 'Failed Example 3', description: 'This `video` element has an instrument to pause, stop, or turn the audio volume off but the instrument is not visible.', html: "<head>\n\t<style>\n\t\tbutton {\n\t\t\tcolor: #000;\n\t\t\tdisplay: none;\n\t\t}\n\t\tbutton:hover {\n\t\t\tcursor: pointer;\n\t\t\tcursor: pointer;\n\t\t\tbackground-color: grey;\n\t\t\tcolor: white;\n\t\t}\n\t</style>\n</head>\n<body>\n\t<div id=\"video-container\">\n\t\t<!-- Video -->\n\t\t<video id=\"video\" autoplay>\n\t\t\t<source src=\"/test-assets/rabbit-video/video.mp4\" type=\"video/mp4\" />\n\t\t\t<source src=\"/test-assets/rabbit-video/video.webm\" type=\"video/webm\" />\n\t\t</video>\n\t\t<!-- Video Controls -->\n\t\t<div id=\"video-controls\">\n\t\t\t<button type=\"button\" id=\"play-pause\" class=\"play\">Pause</button>\n\t\t\t<button type=\"button\" id=\"mute\">Mute</button>\n\t\t</div>\n\t</div>\n\t<script src=\"/test-assets/80f0bf/no-autoplay.js\"></script>\n</body>" }, { name: 'Failed Example 4', description: 'This `video` element has an instrument to pause, stop, or turn the audio volume off but its `button` elements do not have accessible names.', html: "<head>\n\t<style>\n\t\tbutton {\n\t\t\tcolor: #000;\n\t\t}\n\t\tbutton:hover {\n\t\t\tcursor: pointer;\n\t\t\tcursor: pointer;\n\t\t\tbackground-color: grey;\n\t\t\tcolor: white;\n\t\t}\n\t</style>\n</head>\n<body>\n\t<div id=\"video-container\">\n\t\t<!-- Video -->\n\t\t<video id=\"video\" autoplay>\n\t\t\t<source src=\"/test-assets/rabbit-video/video.mp4\" type=\"video/mp4\" />\n\t\t\t<source src=\"/test-assets/rabbit-video/video.webm\" type=\"video/webm\" />\n\t\t</video>\n\t\t<!-- Video Controls -->\n\t\t<div id=\"video-controls\">\n\t\t\t<button type=\"button\" id=\"play-pause\" class=\"play\"></button>\n\t\t\t<button type=\"button\" id=\"mute\"></button>\n\t\t</div>\n\t</div>\n\t<script src=\"/test-assets/80f0bf/no-autoplay.js\"></script>\n</body>" }, { name: 'Failed Example 5', description: 'This `video` element has an instrument to pause, stop, or turn the audio volume off but the instrument is not included in the accessibility tree.', html: "<head>\n\t<style>\n\t\tbutton {\n\t\t\tcolor: #000;\n\t\t}\n\t\tbutton:hover {\n\t\t\tcursor: pointer;\n\t\t\tcursor: pointer;\n\t\t\tbackground-color: grey;\n\t\t\tcolor: white;\n\t\t}\n\t</style>\n</head>\n<body>\n\t<div id=\"video-container\">\n\t\t<!-- Video -->\n\t\t<video id=\"video\" autoplay>\n\t\t\t<source src=\"/test-assets/rabbit-video/video.mp4\" type=\"video/mp4\" />\n\t\t\t<source src=\"/test-assets/rabbit-video/video.webm\" type=\"video/webm\" />\n\t\t</video>\n\t\t<!-- Video Controls -->\n\t\t<div id=\"video-controls\" aria-hidden=\"true\">\n\t\t\t<button type=\"button\" id=\"play-pause\" class=\"play\">Play</button>\n\t\t\t<button type=\"button\" id=\"mute\">Mute</button>\n\t\t</div>\n\t</div>\n\t<script src=\"/test-assets/80f0bf/no-autoplay.js\"></script>\n</body>" }]
    inapplicable: [{ name: 'Inapplicable Example 1', description: 'The audio of this `video` element autoplays for longer than 3 seconds but is `muted`.', html: "<video autoplay muted>\n\t<source src=\"/test-assets/rabbit-video/video.mp4\" type=\"video/mp4\" />\n\t<source src=\"/test-assets/rabbit-video/video.webm\" type=\"video/webm\" />\n</video>" }, { name: 'Inapplicable Example 2', description: 'The `src` file of this `video` element has no audio output.', html: "<video autoplay>\n\t<source src=\"/test-assets/rabbit-video/silent.mp4\" type=\"video/mp4\" />\n\t<source src=\"/test-assets/rabbit-video/silent.webm\" type=\"video/webm\" />\n</video>" }, { name: 'Inapplicable Example 3', description: 'This `audio` element does not autoplay.', html: '<audio src="/test-assets/moon-audio/moon-speech.mp3" controls></audio>' }]
expectation: 'For each test target, there is at least one instrument in the same web page to pause or stop the audio, or turn the audio volume off independently from the overall system volume control.The instrument to pause or stop or turn the audio volume off is [visible](#visible), has an [accessible name](#accessible-name) that is not only [whitespace](#whitespace), and is [included in the accessibility tree](#included-in-the-accessibility-tree).'
