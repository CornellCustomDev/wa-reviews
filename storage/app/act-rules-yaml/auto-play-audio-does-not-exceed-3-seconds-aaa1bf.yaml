id: aaa1bf
name: 'Audio or video element that plays automatically has no audio that lasts more than 3 seconds'
metadata:
    id: aaa1bf
    name: 'Audio or video element that plays automatically has no audio that lasts more than 3 seconds'
    rule_type: atomic
    description: "`audio` or `video` that plays automatically does not output audio for more than 3 seconds.\n"
    accessibility_requirements: { 'wcag-technique:G60': { forConformance: false, failed: 'not satisfied', passed: 'further testing needed', inapplicable: 'further testing needed' } }
    input_aspects: ['DOM Tree', 'CSS Styling', 'Audio output', 'Visual output']
    acknowledgments: { authors: ['Anne Thyme Nørregaard', 'Bryn Anderson'], funding: [WAI-Tools], assets: ['Rabbit video is © copyright 2008, Blender Foundation / [www.bigbuckbunny.org](https://www.bigbuckbunny.org)', 'JFK''s "We Choose the Moon" speech excerpt is courtesy of NASA.'] }
applicability: "This rule applies to any `audio` or `video` element for which all the following are true:\n\n- **autoplay**: the element has an `autoplay` attribute value of `true`; and\n- **not muted**: the element has a `muted` attribute value of `false`; and\n- **not paused**: the element has a `paused` attribute value of `false`; and\n- **duration**: the element has a media resource lasting more than 3 seconds that contains audio."
assumptions: 'There are no assumptions.'
accessibility_support: 'There are no accessibility support issues known.'
background: "### Bibliography\n\n- [Understanding Success Criterion 1.4.2: Audio Control](https://www.w3.org/WAI/WCAG22/Understanding/audio-control.html)\n- [F23: Failure of 1.4.2 due to playing a sound longer than 3 seconds where there is no mechanism to turn it off](https://www.w3.org/WAI/WCAG22/Techniques/failures/F23)\n- [G60: Playing a sound that turns off automatically within three seconds](https://www.w3.org/WAI/WCAG22/Techniques/general/G60)\n- [G171: Playing sounds only on user request](https://www.w3.org/WAI/WCAG22/Techniques/general/G171)"
test_cases:
    passed: [{ name: 'Passed Example 1', description: 'This `audio` element does not play automatically for more than 3 seconds.', html: '<audio src="/test-assets/moon-audio/moon-speech.mp3#t=25" autoplay></audio>' }, { name: 'Passed Example 2', description: "This `video` element's audio output does not last longer than 3 seconds.", html: "<video autoplay>\n\t<source src=\"/test-assets/rabbit-video/video.mp4#t=8,10\" type=\"video/mp4\" />\n\t<source src=\"/test-assets/rabbit-video/video.webm#t=8,10\" type=\"video/webm\" />\n</video>" }]
    failed: [{ name: 'Failed Example 1', description: 'This `audio` element plays automatically for more than 3 seconds.', html: '<audio src="/test-assets/moon-audio/moon-speech.mp3" autoplay controls></audio>' }, { name: 'Failed Example 2', description: 'This `video` element plays some audio automatically for more than 3 seconds.', html: "<video autoplay>\n\t<source src=\"/test-assets/rabbit-video/video.mp4\" type=\"video/mp4\" />\n\t<source src=\"/test-assets/rabbit-video/video.webm\" type=\"video/webm\" />\n</video>" }]
    inapplicable: [{ name: 'Inapplicable Example 1', description: 'This `video` element has audio that autoplays for longer than 3 seconds but is muted.', html: "<video autoplay muted>\n\t<source src=\"/test-assets/rabbit-video/video.mp4\" type=\"video/mp4\" />\n\t<source src=\"/test-assets/rabbit-video/video.webm\" type=\"video/webm\" />\n</video>" }, { name: 'Inapplicable Example 2', description: 'This `video` element refers to a source file that has no audio output.', html: "<video autoplay>\n\t<source src=\"/test-assets/rabbit-video/silent.mp4\" type=\"video/mp4\" />\n\t<source src=\"/test-assets/rabbit-video/silent.webm\" type=\"video/webm\" />\n</video>" }, { name: 'Inapplicable Example 3', description: 'This `audio` element does not autoplay.', html: '<audio src="/test-assets/moon-audio/moon-speech.mp3" controls></audio>' }]
expectation: "For each test target the total audio output does not last more than 3 seconds.\n\n**Note:** This rule does not cover single audio instances that play repeatedly for more than three seconds, or multiple audio instances for more than three seconds. The [WCAG Understanding documentation for 1.4.2 Audio Controls](https://www.w3.org/WAI/WCAG22/Understanding/audio-control.html) is ambiguous about how to handle these scenarios."
