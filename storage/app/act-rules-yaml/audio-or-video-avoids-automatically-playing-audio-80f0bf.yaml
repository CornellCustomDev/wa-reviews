id: 80f0bf
name: 'Audio or video element avoids automatically playing audio'
metadata:
    id: 80f0bf
    name: 'Audio or video element avoids automatically playing audio'
    rule_type: composite
    description: "This rule checks that audio or video that plays automatically does not have audio that lasts for more than 3 seconds or has an audio control mechanism to stop or mute it.\n"
    accessibility_requirements: { 'wcag20:1.4.2': { forConformance: true, failed: 'not satisfied', passed: 'further testing needed', inapplicable: 'further testing needed' }, 'wcag-text:cc5': { title: 'WCAG Non-Interference', forConformance: true, failed: 'not satisfied', passed: 'further testing needed', inapplicable: 'further testing needed' }, 'wcag-technique:G60': { forConformance: false, failed: 'not satisfied', passed: 'further testing needed', inapplicable: 'further testing needed' }, 'wcag-technique:G170': { forConformance: false, failed: 'not satisfied', passed: 'further testing needed', inapplicable: 'further testing needed' }, 'wcag-technique:G171': { forConformance: false, failed: 'not satisfied', passed: 'further testing needed', inapplicable: 'further testing needed' } }
    input_rules: [4c31df, aaa1bf]
    acknowledgments: { authors: ['Anne Thyme Nørregaard', 'Bryn Anderson'], funding: [WAI-Tools], assets: ['Rabbit video is © copyright 2008, Blender Foundation / [www.bigbuckbunny.org](https://www.bigbuckbunny.org)', 'JFK''s "We Choose the Moon" speech excerpt is courtesy of NASA.'] }
    htmlHintIgnore: [title-require]
applicability: "This rule applies to any `audio` or `video` element for which all the following are true:\n\n- **autoplay**: the element has an `autoplay` attribute value of `true`; and\n- **not muted**: the element has a `muted` attribute value of `false`; and\n- **not paused**: the element has a `paused` attribute value of `false`; and\n- **duration**: the element has a media resource lasting more than 3 seconds and that contains audio."
assumptions: "- This rule assumes that it is not possible to satisfy Success Criterion 1.4.2 Audio Control if the total length of the automatically playing audio is more than 3 seconds, even if there are pauses in the sound and no more than 3 seconds in a row with actual sound.\n- This rule assumes that the mechanism](https://www.w3.org/TR/WCAG22/#dfn-mechanism) to control the sound must be located in the same [web page. Mechanisms located on other pages can still create accessibility issues for users relying on sound to navigate (e.g. screen readers users) since the autoplaying sound will interfere with their ability to find and activate the mechanism. If a mechanism](https://www.w3.org/TR/WCAG22/#dfn-mechanism) external to the [web page is provided, it is possible to fail this rule but still satisfy Success Criterion 1.4.2 Audio Control.\n- This rule assumes that the mechanism](https://www.w3.org/TR/WCAG22/#dfn-mechanism) to control the sound must be visible and accessible in order to be effective and usable by all kinds of users. If the mechanism is hidden to some users, it is possible to fail this rule but still satisfy [Success Criterion 1.4.2 Audio Control."
accessibility_support: "The native `video` and `audio` controls in several browser and assistive technology combinations are not keyboard accessible and the `video` or `audio` element itself may not be announced. Authors are recommended to use custom controls for keyboard navigation and cross browser accessibility support in general. Some major browsers no longer automatically play the 'video' unless the 'video' is muted.\n\nUser agents do not always automatically play media, even when an `autoplay` attribute is present. This is done to avoid autoplaying media interrupting the user when they do not want to, especially when the media is likely to contain sound. The decision to respect the `autoplay` attribute or not depends on user settings and previous behavior (interaction with the site). Therefore, some media files may fail this rule but satisfy Success Criterion 1.4.2 Audio Control on some combination of User Agent and user settings. The rule considers that the presence of the `autoplay` attribute is an indication of the author intention to have automatically playing media, and therefore requires the author to provide a mechanism to control the sound."
background: "The instruments used to pass this rule (if any), must meet all level A Success Criteria in order to fully satisfy Success Criterion 1.4.2 Audio Control. These extra requirements are left out of this rule, and should be tested separately.\n\n### Bibliography\n\n- [Understanding Success Criterion 1.4.2: Audio Control](https://www.w3.org/WAI/WCAG22/Understanding/audio-control.html)\n- [Accessible Multimedia](https://developer.mozilla.org/en-US/docs/Learn/Accessibility/Multimedia)"
test_cases:
    passed: [{ name: 'Passed Example 1', description: 'This `audio` element has an instrument to pause, stop, or turn the audio volume off.', html: '<audio src="/test-assets/moon-audio/moon-speech.mp3" autoplay controls></audio>' }, { name: 'Passed Example 2', description: 'This `video` element does not play for longer than 3 seconds.', html: "<video autoplay>\n\t<source src=\"/test-assets/rabbit-video/video.mp4#t=8,10\" type=\"video/mp4\" />\n\t<source src=\"/test-assets/rabbit-video/video.webm#t=8,10\" type=\"video/webm\" />\n</video>" }, { name: 'Passed Example 3', description: 'This `video` element autoplays and has an instrument to pause, stop, or turn the audio volume off.', html: "<head>\n\t<style>\n\t\tbutton {\n\t\t\tcolor: #000;\n\t\t}\n\t\tbutton:hover {\n\t\t\tcursor: pointer;\n\t\t\tcursor: pointer;\n\t\t\tbackground-color: grey;\n\t\t\tcolor: white;\n\t\t}\n\t</style>\n</head>\n<body>\n\t<div id=\"video-container\">\n\t\t<!-- Video -->\n\t\t<video id=\"video\" autoplay>\n\t\t\t<source src=\"/test-assets/rabbit-video/video.mp4\" type=\"video/mp4\" />\n\t\t\t<source src=\"/test-assets/rabbit-video/video.webm\" type=\"video/webm\" />\n\t\t</video>\n\t\t<!-- Video Controls -->\n\t\t<div id=\"video-controls\">\n\t\t\t<button type=\"button\" id=\"play-pause\" class=\"play\">Play</button>\n\t\t\t<button type=\"button\" id=\"mute\">Mute</button>\n\t\t</div>\n\t</div>\n\t<script src=\"/test-assets/80f0bf/no-autoplay.js\"></script>\n</body>" }]
    failed: [{ name: 'Failed Example 1', description: 'This `audio` element autoplays, lasts for more than 3 seconds, and does not have an instrument to pause, stop, or mute the audio.', html: '<audio src="/test-assets/moon-audio/moon-speech.mp3" autoplay></audio>' }, { name: 'Failed Example 2', description: 'This `video` element audio autoplays for longer than 3 seconds, and does not have an instrument to pause, stop, or mute the audio', html: "<video autoplay>\n\t<source src=\"/test-assets/rabbit-video/video.mp4\" type=\"video/mp4\" />\n\t<source src=\"/test-assets/rabbit-video/video.webm\" type=\"video/webm\" />\n</video>" }]
    inapplicable: [{ name: 'Inapplicable Example 1', description: 'This `video` element audio autoplays for longer than 3 seconds but is `muted`.', html: "<video autoplay muted>\n\t<source src=\"/test-assets/rabbit-video/video.mp4\" type=\"video/mp4\" />\n\t<source src=\"/test-assets/rabbit-video/video.webm\" type=\"video/webm\" />\n</video>" }, { name: 'Inapplicable Example 2', description: 'This `video` element has no audio output.', html: "<video autoplay>\n\t<source src=\"/test-assets/rabbit-video/silent.mp4\" type=\"video/mp4\" />\n\t<source src=\"/test-assets/rabbit-video/silent.webm\" type=\"video/webm\" />\n</video>" }, { name: 'Inapplicable Example 3', description: 'This `audio` element does not play automatically.', html: '<audio src="/test-assets/moon-audio/moon-speech.mp3" controls></audio>' }]
expectation: "For each test target, the [outcome](#outcome) of at least one of the following rules is passed:\n\n- [Audio Or Video That Plays Automatically Has A Control Mechanism](https://www.w3.org/WAI/standards-guidelines/act/rules/4c31df/)\n- [Audio Or Video That Plays Automatically Has No Audio That Lasts More Than 3 Seconds](https://www.w3.org/WAI/standards-guidelines/act/rules/aaa1bf/)"
