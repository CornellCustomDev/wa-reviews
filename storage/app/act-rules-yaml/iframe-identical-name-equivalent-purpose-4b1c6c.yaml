machine_name: iframe-identical-name-equivalent-purpose-4b1c6c
id: 4b1c6c
name: 'Iframe elements with identical accessible names have equivalent purpose'
metadata:
    id: 4b1c6c
    name: 'Iframe elements with identical accessible names have equivalent purpose'
    rule_type: atomic
    description: "This rule checks that `iframe` elements with identical accessible names embed the same resource or equivalent resources.\n"
    accessibility_requirements: { 'wcag20:4.1.2': { forConformance: true, failed: 'not satisfied', passed: 'further testing needed', inapplicable: 'further testing needed' } }
    input_aspects: ['DOM Tree', 'CSS Styling', Language]
    acknowledgments: { authors: ['Audrey Maniez', 'Jean-Yves Moyen', 'Jey Nandakumar'], funding: [WAI-Tools] }
applicability: "This rule applies to any set of any two or more `iframe` elements which:\n\n- are in the same web page (HTML); and\n- are included in an accessibility tree; and\n- that have matching accessible names that are not empty (`\"\"`)."
assumptions: 'This rule assumes that, within the context of the test subject, the description provided by the accessible name of an `iframe` can only accurately describe one resource (notably, homonyms alone are not used as `iframe` names). Thus, if two or more `iframe` elements have the same accessible name but embed different resources, at least one of them does not describe its purpose.'
accessibility_support: 'This rule assumes that assistive technologies are exposing all `iframe` elements on the page in the same way no matter which document tree](https://dom.spec.whatwg.org/#document-trees) they are in. If an assistive technology requires the user to "enter" an `iframe` or a [shadow tree before exposing its content (notably nested `iframe`), then it is possible for two `iframe` to have identical name but embed different resources without failing Success Criterion 4.1.2: Name, Role, Value (if said `iframe` are in separate documents or shadow trees)'
background: "When determining if target elements embed the same resource, resolving the embedded resource includes any redirects that are instant.\n\n### Bibliography\n\n- [CSS Scoping Module Level 1 (editor's draft)](https://drafts.csswg.org/css-scoping/)\n- [H64: Using the title attribute of the frame and iframe elements](https://www.w3.org/WAI/WCAG22/Techniques/html/H64)\n- Understanding Success Criterion 4.1.2: Name, Role, Value"
test_cases:
    passed: [{ name: 'Passed Example 1', description: 'Two `iframe` elements within the same document tree have the same accessible name (given by the `title` attribute) and embed the same resource.', html: "<html lang=\"en\">\n\t<iframe title=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n\n\t<iframe title=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n</html>" }, { name: 'Passed Example 2', description: 'Two `iframe` elements within the same document tree have the same accessible name (given by the `title` and `aria-label` attributes) and embed the same resource.', html: "<html lang=\"en\">\n\t<iframe title=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n\n\t<iframe aria-label=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n</html>" }, { name: 'Passed Example 3', description: 'Two `iframe` elements within the same document tree have the same accessible name (given by the `aria-labelledby` attribute and corresponding elements) and embed the same resource.', html: "<html lang=\"en\">\n\t<div id=\"desc-for-title\">List of Contributors</div>\n\t<iframe aria-labelledby=\"desc-for-title\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n\n\t<div id=\"desc-for-title1\">List of Contributors</div>\n\t<iframe aria-labelledby=\"desc-for-title1\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n</html>" }, { name: 'Passed Example 4', description: 'Two `iframe` elements within the same document tree have the same accessible name (given by the `title` attribute) and embed equivalent resources. Only the navigation options (bread crumbs and local sub menus) differ due to different placement in navigation hierarchy.', html: "<html lang=\"en\">\n\t<iframe title=\"Contact us\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n\n\t<iframe title=\"Contact us\" src=\"/test-assets/iframe-unique-name-4b1c6c/sub-dir/page-one.html\"> </iframe>\n</html>" }, { name: 'Passed Example 5', description: 'Two `iframe` elements within the same document tree have the same accessible name (given by the `title` attribute) and embed equivalent resources.', html: "<html lang=\"en\">\n\t<iframe title=\"Contact us\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n\n\t<iframe title=\"Contact us\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one-copy.html\"> </iframe>\n</html>" }, { name: 'Passed Example 6', description: 'Two `iframe` elements within the same document tree have the same accessible name (given by the `title` attribute) and embed the same resource. `src` attributes only differ due to trailing slashes, but resolves to the same resource after redirects caused by user agent.', html: "<html lang=\"en\">\n\t<iframe title=\"Contact us\" src=\"/test-assets/iframe-unique-name-4b1c6c/sub-dir-2/\"> </iframe>\n\n\t<iframe title=\"Contact us\" src=\"/test-assets/iframe-unique-name-4b1c6c/sub-dir-2\"> </iframe>\n</html>" }, { name: 'Passed Example 7', description: 'Two `iframe` elements within the same document tree have the same accessible name (given by the `title` attribute) and embed equivalent resources. Resources differ by the amount of information available and/or a differently worded information.', html: "<html lang=\"en\">\n\t<iframe title=\"Contact us\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n\n\t<iframe title=\"Contact us\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-three-same-as-page-one.html\"> </iframe>\n</html>" }, { name: 'Passed Example 8', description: 'Two `iframe` elements within the same document tree have the same accessible name (given by the `title` attribute) and embed equivalent resources. Each `iframe` refers to a different url that referenced different advertising content (giving by a third party) but embed resources has equivalent purpose: showing an advertising.', html: "<html lang=\"en\">\n\t<iframe title=\"advertising\" src=\"/test-assets/iframe-unique-name-4b1c6c/advertising-one.html\"> </iframe>\n\n\t<iframe title=\"advertising\" src=\"/test-assets/iframe-unique-name-4b1c6c/advertising-two.html\"> </iframe>\n</html>" }, { name: 'Passed Example 9', description: 'All three `iframe` elements have the same accessible name. The second `iframe` (with `id` `"light"` ) is only part of the light tree. When the shadow tree is attached to `host` and flattened, this `iframe` is overwritten and therefore not part of the flat tree. Hence, only the first and third `iframe` are considered by this rule and they both point to the same resource.', html: "<iframe id=\"always\" title=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n\n<div id=\"host\">\n\t<iframe id=\"light\" title=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-two.html\"> </iframe>\n</div>\n\n<script>\n\tconst host = document.getElementById('host')\n\tconst shadowRoot = host.attachShadow({ mode: 'open' })\n\tshadowRoot.innerHTML =\n\t\t'<iframe id=\"shadow\" title=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>'\n</script>" }, { name: 'Passed Example 10', description: 'The browsing context of the `iframe` with `id` `"container"` has the browsing context of the main document as an ancestor browsing context. Hence, they share the same top-level browsing context (namely, the browsing context of the main document) and are part of the same web page (HTML). Therefore, both `iframe` with `id` `"top-level"` and `"nested"` are considered and, since they embed the same document, the rule passes.', html: "<iframe id=\"top-level\" title=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\">\n</iframe>\n\n<iframe\n\tid=\"container\"\n\tsrcdoc=\"<iframe id='nested' title='List of Contributors' src='/test-assets/iframe-unique-name-4b1c6c/page-one.html'> </iframe>\"\n></iframe>" }]
    failed: [{ name: 'Failed Example 1', description: "Two `iframe` elements within the same document tree have the same accessible name (given by the `title` attribute) but don't embed equivalent resources.", html: "<html lang=\"en\">\n\t<iframe title=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n\n\t<iframe title=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-two.html\"> </iframe>\n</html>" }, { name: 'Failed Example 2', description: "Two `iframe` elements within the same document tree have the same accessible name (given by the `aria-label` attribute) but don't embed equivalent resources.", html: "<html lang=\"en\">\n\t<iframe aria-label=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n\n\t<iframe aria-label=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-two.html\"> </iframe>\n</html>" }, { name: 'Failed Example 3', description: "Two `iframe` elements within the same document tree have the same accessible name (given by the `title` and `aria-label` attributes) but don't embed equivalent resources.", html: "<html lang=\"en\">\n\t<iframe title=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n\n\t<iframe aria-label=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-two.html\"> </iframe>\n</html>" }, { name: 'Failed Example 4', description: 'The browsing context of the `iframe` with `id` `"container"` has the browsing context of the main document as an ancestor browsing context. Hence, they share the same top-level browsing context (namely, the browsing context of the main document) and are part of the same web page (HTML). Therefore, both `iframe` with `id` `"top-level"` and `"nested"` are considered and the rule fails.', html: "<iframe id=\"top-level\" title=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\">\n</iframe>\n\n<iframe\n\tid=\"container\"\n\tsrcdoc=\"<iframe id='nested' title='List of Contributors' src='/test-assets/iframe-unique-name-4b1c6c/page-two.html'> </iframe>\"\n></iframe>" }]
    inapplicable: [{ name: 'Inapplicable Example 1', description: 'There is only one `iframe` element within the document tree. Therefore, there is no set of two or more `iframe` elements with the same accessible name and the rule is inapplicable.', html: "<html lang=\"en\">\n\t<iframe title=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n</html>" }, { name: 'Inapplicable Example 2', description: 'Each of the two `iframe` elements within the document tree has a different accessible name (given by the `title` attribute). Therefore, there is no set of two or more `iframe` elements with the same accessible name and the rule is inapplicable.', html: "<html lang=\"en\">\n\t<iframe title=\"List of Contributors to Repository 1\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\">\n\t</iframe>\n\n\t<iframe title=\"List of Contributors to Repository 2\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-two.html\">\n\t</iframe>\n</html>" }, { name: 'Inapplicable Example 3', description: 'Each of the two `iframe` elements within the document tree has a different accessible name (given by the `aria-label` attribute). Therefore, there is no set of two or more `iframe` elements with the same accessible name and the rule is inapplicable.', html: "<html lang=\"en\">\n\t<iframe aria-label=\"List of Contributors to Repository 1\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\">\n\t</iframe>\n\n\t<iframe aria-label=\"List of Contributors to Repository 2\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-two.html\">\n\t</iframe>\n</html>" }, { name: 'Inapplicable Example 4', description: 'Each of the two `iframe` elements within the document tree has a different accessible name (given by the `aria-labelledby` attribute and matching elements). Therefore, there is no set of two or more `iframe` elements with the same accessible name and the rule is inapplicable.', html: "<html lang=\"en\">\n\t<div id=\"desc-for-title\">List of Contributors</div>\n\t<iframe aria-labelledby=\"desc-for-title\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n\n\t<div id=\"desc-for-title1\">List of Reviewers</div>\n\t<iframe aria-labelledby=\"desc-for-title1\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-two.html\"> </iframe>\n</html>" }, { name: 'Inapplicable Example 5', description: 'Both `iframe` elements have the same accessible name (given by the `title` attribute) within the same document tree, but one of them is not included in the accessibility tree. Therefore, there is no set of two or more `iframe` elements that are included in the accessibility tree and have the same accessible name, and the rule is inapplicable.', html: "<html lang=\"en\">\n\t<iframe aria-hidden=\"true\" title=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\">\n\t</iframe>\n\n\t<iframe title=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-two.html\"> </iframe>\n</html>" }, { name: 'Inapplicable Example 6', description: 'The `alt` attribute does not provide an accessible name for `iframe` elements. Therefore, these `iframe` elements do not have an accessible name and the rule is inapplicable.', html: "<html lang=\"en\">\n\t<iframe alt=\"Some\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n\n\t<iframe alt=\"Some\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n</html>" }, { name: 'Inapplicable Example 7', description: 'The rule does not apply to `object` elements.', html: "<html lang=\"en\">\n\t<object title=\"List of Contributors\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </object>\n\n\t<object aria-label=\"List of Contributors Clone\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-two.html\"> </object>\n</html>" }, { name: 'Inapplicable Example 8', description: 'These `iframe` elements do not have accessible names.', html: "<html lang=\"en\">\n\t<iframe src=\"/test-assets/iframe-unique-name-4b1c6c/page-two.html\"> </iframe>\n\n\t<iframe src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\"> </iframe>\n</html>" }, { name: 'Inapplicable Example 9', description: 'These `iframe` elements are not included in the accessibility tree, because of the `display:none` styling.', html: "<html lang=\"en\">\n\t<iframe style=\"display:none;\" title=\"Document One\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-one.html\">\n\t</iframe>\n\n\t<iframe style=\"display:none;\" aria-label=\"Document One\" src=\"/test-assets/iframe-unique-name-4b1c6c/page-two.html\">\n\t</iframe>\n</html>" }]
expectation: 'The `iframe` elements in each set of target elements embed the same resource or [equivalent resources](#equivalent-resource).'
